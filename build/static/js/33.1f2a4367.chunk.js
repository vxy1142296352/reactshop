(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{268:function(e,t,a){"use strict";a.r(t);var n=a(16),i=a(17),r=a(20),o=a(18),s=a(19),l=a(21),c=a(0),d=a.n(c),u=a(75),m=a(135),h=a.n(m),f=a(68),p=a(71),g=a(79),v=a(54),b=a(90),y=a(63);a.n(y)()();var E=g.a,S=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).refresh=function(e,t){setTimeout(function(){e()},2e3)},a.loadMore=function(e){var t=Object(l.a)(Object(l.a)(a));setTimeout(function(){e(t.setState({ismore:!1}))},2e3)},a.state={address:[],loading:!1,deleid:"",ismore:!0},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.getlist()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"editefult",value:function(e){var t=e.currentTarget.getAttribute("data-index"),a=this;Object(f.a)("user/shipping-address/update",{id:a.state.address[t].id,isDefault:!0},"POST",function(e){0===e.data.code&&(v.a.success("\u8bbe\u7f6e\u6210\u529f",1500),a.getlist())},a)}},{key:"delete",value:function(e){var t=this;t.setState({deleid:e.currentTarget.getAttribute("data-index")}),E.confirm({contentText:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u5730\u5740\u5417",onOk:function(){t.SureDelete()},onCancel:function(){}})}},{key:"getlist",value:function(){var e=this;Object(f.a)("user/shipping-address/list",{},"GET",function(t){e._isMounted&&(0===t.data.code?e.setState({address:t.data.data,loading:!0}):e.setState({address:[],loading:!0}),setTimeout(function(){0===e.state.address.length&&localStorage.removeItem("address")},5))},e)}},{key:"SureDelete",value:function(){var e=this;Object(f.a)("user/shipping-address/delete",{id:this.state.deleid},"POST",function(t){0===t.data.code?(e.getlist(),e.setState({deleid:""}),v.a.success("\u5220\u9664\u6210\u529f",1500),localStorage.getItem("address")&&JSON.parse(localStorage.getItem("address")).id===e.state.deleid&&localStorage.removeItem("address")):(e.setState({deleid:""}),v.a.error(t.data.msg,1500))},e)}},{key:"choseAddress",value:function(e){var t=e.currentTarget.getAttribute("data-index");localStorage.getItem("addressurl")?(this.props.history.replace(localStorage.getItem("addressurl")),localStorage.setItem("address",JSON.stringify(this.state.address[t]))):this.props.history.push("/user/addaddress/update?id="+this.state.address[t].id)}},{key:"goback",value:function(){localStorage.getItem("addressurl")?this.props.history.replace(localStorage.getItem("addressurl")):window.history.go(-1)}},{key:"Address",value:function(){localStorage.getItem("addressurl")?this.props.history.replace("/user/addaddress/add"):this.props.history.push("/user/addaddress/add")}},{key:"render",value:function(){var e=this,t=null,a=this;return this.state.address.length<=0&&(t=d.a.createElement("div",{className:h.a.Noshop},d.a.createElement("div",{className:h.a.Empty+" "+h.a.img3}),d.a.createElement("p",null,"\u60a8\u6682\u65e0\u6536\u8d27\u5730\u5740"))),d.a.createElement("div",{className:"addressApp"},this.state.loading?null:d.a.createElement(p.a,null),d.a.createElement("div",{className:"view"},d.a.createElement(b.a,{className:"main",onRefresh:this.refresh,onLoadMore:this.loadMore,hasMore:this.state.address.length>=6,ismore:this.state.ismore},d.a.createElement("header",{className:h.a.carheader+" "+h.a.addressb},d.a.createElement("a",{href:"javascrit:",className:h.a.carback,onClick:function(){return e.goback()}}),"\u6536\u8d27\u5730\u5740",d.a.createElement("a",{href:"jacascrit:",onClick:this.Address.bind(this),className:h.a.caredite},"\uff0b")),d.a.createElement("div",{className:h.a.container+" reactApp"},d.a.createElement("div",{className:h.a.addresslistBox},d.a.createElement("ul",null,this.state.address.map(function(e,t){return d.a.createElement("li",{className:e.isDefault?h.a.addult:" ",key:t},d.a.createElement("a",{href:"javascrit:","data-index":t,onClick:a.choseAddress.bind(a)},d.a.createElement("div",{className:h.a.addressusernme},e.linkMan,d.a.createElement("span",null,e.mobile)),d.a.createElement("p",null,e.provinceStr,e.cityStr,e.areaStr,e.address)),d.a.createElement("div",{className:h.a.deleadd},d.a.createElement("div",{className:[h.a.fl+" "+h.a.default]+" "+[e.isDefault?h.a.isdefault:" "],onClick:a.editefult.bind(a),"data-index":t},d.a.createElement("i",null),e.isDefault?"\u9ed8\u8ba4":"\u8bbe\u7f6e\u9ed8\u8ba4"),d.a.createElement("div",{className:h.a.fr+" "+h.a.defdelete,"data-index":e.id,onClick:a.delete.bind(a)},"\u5220\u9664")))})),t)))))}}]),t}(c.Component);t.default=Object(u.a)(S)},71:function(e,t,a){"use strict";var n=a(16),i=a(17),r=a(20),o=a(18),s=a(19),l=a(0),c=a.n(l);a(73);var d=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"laoding",id:"allloading"},c.a.createElement("div",{className:"loading-style-4"},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null)))}}]),t}(l.Component);t.a=d},73:function(e,t,a){},79:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=a(16),r=a(17),o=a(20),s=a(18),l=a(19),c=a(21),d=a(0),u=a.n(d),m=a(22),h=a.n(m),f=a(67),p=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.contentText,a=e.onOk,n=e.onCancel;return u.a.createElement("div",{className:"modal-confirm dialog"},u.a.createElement("h4",null,t),u.a.createElement("div",{className:"button-wrapper"},u.a.createElement("button",{type:"button",className:"check",onClick:function(){a&&a()}},u.a.createElement("svg",{className:"icon","aria-hidden":"true"},u.a.createElement("use",{xlinkHref:"#icon-check-circle-fill"}))),u.a.createElement("button",{type:"button",className:"close",onClick:function(){n&&n()}},u.a.createElement("svg",{className:"icon","aria-hidden":"true"},u.a.createElement("use",{xlinkHref:"#icon-close-circle-fill"})))))}}]),t}(d.Component),g="confirm",v=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(s.a)(t).call(this))).onClose=e.onClose.bind(Object(c.a)(Object(c.a)(e))),e.transitionTime=300,e.state={showDialog:!1},e}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState({showDialog:!0})}},{key:"onClose",value:function(e,t){var a=this.props,n=a.onOk,i=a.onCancel,r=a.removeDialog;e&&n?n(t):i&&i(),setTimeout(r,this.transitionTime),this.setState({showDialog:!1})}},{key:"renderDialogForType",value:function(e,t){switch(e){case g:return u.a.createElement(p,t);default:throw new Error("dialog type error")}}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.contentText,n=this.onClose,i=this.state.showDialog;return u.a.createElement(f.CSSTransition,{in:i,classNames:"modal-wrapper conFirm_model_Bj",timeout:this.transitionTime},u.a.createElement("div",{className:"modal"},u.a.createElement(f.CSSTransition,{in:i,classNames:"dialog-wrapper",timeout:this.transitionTime},this.renderDialogForType(t,{contentText:a,onOk:function(e){n(!0,e)},onCancel:function(){n(!1)}}))))}}]),t}(d.Component);var b={confirm:function(e){!function(e){var t=document.createElement("div");document.body.appendChild(t),h.a.render(u.a.createElement(v,Object.assign({},e,{removeDialog:function(){h.a.unmountComponentAtNode(t),document.body.removeChild(t)}})),t)}(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),i.forEach(function(t){n(e,t,a[t])})}return e}({type:g},e))}};a(81),a(82),t.a=b},81:function(e,t){!function(e){var t='<svg><symbol id="icon-check-circle-fill" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m193.5 301.7l-210.6 292c-12.7 17.7-39 17.7-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"  ></path></symbol><symbol id="icon-close-circle-fill" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m165.4 618.2l-66-0.3L512 563.4l-99.3 118.4-66.1 0.3c-4.4 0-8-3.5-8-8 0-1.9 0.7-3.7 1.9-5.2l130.1-155L340.5 359c-1.2-1.5-1.9-3.3-1.9-5.2 0-4.4 3.6-8 8-8l66.1 0.3L512 464.6l99.3-118.4 66-0.3c4.4 0 8 3.5 8 8 0 1.9-0.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"  ></path></symbol></svg>',a=function(){var e=document.getElementsByTagName("script");return e[e.length-1]}().getAttribute("data-injectcss"),n=function(e,t){t.firstChild?function(e,t){t.parentNode.insertBefore(e,t)}(e,t.firstChild):t.appendChild(e)};if(a&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(i){console&&console.log(i)}}!function(t){document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(t,0):document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,!1),t()},!1):document.attachEvent&&function(e,t){var a=e.document,n=!1,r=function(){n||(n=!0,t())};(function e(){try{a.documentElement.doScroll("left")}catch(i){return void setTimeout(e,50)}r()})(),a.onreadystatechange=function(){"complete"==a.readyState&&(a.onreadystatechange=null,r())}}(e,t)}(function(){var e,a;(e=document.createElement("div")).innerHTML=t,t=null,(a=e.getElementsByTagName("svg")[0])&&(a.setAttribute("aria-hidden","true"),a.style.position="absolute",a.style.width=0,a.style.height=0,a.style.overflow="hidden",n(a,document.body))})}(window)},82:function(e,t,a){},90:function(e,t,a){"use strict";var n=a(16),i=a(17),r=a(20),o=a(18),s=a(19),l=a(21),c=a(0),d=a.n(c),u={init:"",pulling:"pulling",enough:"pulling enough",refreshing:"refreshing",refreshed:"refreshed",reset:"reset",loading:"loading"};var m=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={loaderState:u.init,pullHeight:0,progressed:0},a.touchStart=function(e){if(a.canRefresh()&&1===e.touches.length){var t=Object(l.a)(Object(l.a)(a)).panel;a.initialTouch={clientY:e.touches[0].clientY,scrollTop:t.scrollTop}}},a.touchMove=function(e){if(a.canRefresh()){var t=Object(l.a)(Object(l.a)(a)).panel,n=a.props.distanceToRefresh,i=t.scrollTop,r=a.calculateDistance(e.touches[0]);if(r>0&&i<=0){var o=r-a.initialTouch.scrollTop;o<0&&(o=0,a.initialTouch.scrollTop=r);var s=function(e){var t=e,a=window.screen.availHeight;return a/2.5*Math.sin(t/a*(Math.PI/2))+0}(o);s&&e.preventDefault(),a.setState({loaderState:s>n?u.enough:u.pulling,pullHeight:s})}}},a.touchEnd=function(){if(a.canRefresh()){var e={loaderState:u.reset,pullHeight:0};a.state.loaderState===u.enough?(a.setState({loaderState:u.refreshing,pullHeight:0}),a.props.onRefresh(function(){a.setState({loaderState:u.refreshed,pullHeight:0})},function(){a.setState(e)})):a.setState(e)}},a.loadMore=function(){a.setState({loaderState:u.loading}),a.props.onLoadMore(function(){a.setState({loaderState:u.init})})},a.scroll=function(e){if(a.props.autoLoadMore&&a.props.hasMore&&a.state.loaderState!==u.loading){var t=e.currentTarget;t.scrollHeight-t.clientHeight-t.scrollTop<5&&a.loadMore()}},a.animationEnd=function(){var e={};a.state.loaderState===u.refreshed&&(e.loaderState=u.init),a.props.initializing>1&&(e.progressed=1),a.setState(e)},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.initializing<2&&this.setState({progressed:0})}},{key:"setInitialTouch",value:function(e){this.initialTouch={clientY:e.clientY}}},{key:"componentDidMount",value:function(){}},{key:"calculateDistance",value:function(e){return e.clientY-this.initialTouch.clientY}},{key:"canRefresh",value:function(){var e=this.props.onRefresh,t=this.state.loaderState;return e&&[u.refreshing,u.loading].indexOf(t)<0}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.className,i=t.hasMore,r=t.initializing,o=t.ismore,s=this.state,l=s.loaderState,c=s.pullHeight,u=s.progressed,m=i?d.a.createElement("div",{className:"tloader-footer"},d.a.createElement("div",{className:o?"tloader-btn ":"tloader-btn tloader_nomore",onClick:this.loadMore}," ")," ",d.a.createElement("div",{className:"tloader-loading"}," ",d.a.createElement("i",{className:"ui-loading"})," ")," "):null,h=c?{WebkitTransform:"translate3d(0,".concat(c,"px,0)")}:null,f="";return u||(r>0&&(f+=" tloader-progress"),r>1&&(f+=" ed")),d.a.createElement("div",{ref:function(t){e.panel=t},className:"tloader state-".concat(l," ").concat(n).concat(f),onScroll:this.scroll,onTouchStart:this.touchStart,onTouchMove:this.touchMove,onTouchEnd:this.touchEnd,onAnimationEnd:this.animationEnd},d.a.createElement("div",{className:"tloader-symbol"},d.a.createElement("div",{className:"tloader-msg",ref:"loadMoreheight"}," ",d.a.createElement("i",null)," ")," ",d.a.createElement("div",{className:"tloader-loading"}," ",d.a.createElement("i",{className:"ui-loading"})," ")," ")," ",d.a.createElement("div",{className:"tloader-body",style:h}," ",a," ")," ",m," ")}}]),t}(d.a.Component);m.defaultProps={distanceToRefresh:60,autoLoadMore:1},t.a=m}}]);