(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{282:function(e,a,t){"use strict";t.r(a);var n=t(16),s=t(17),c=t(20),l=t(18),i=t(19),r=t(0),o=t.n(r),m=t(136),u=t.n(m),d=t(23),h=t.n(d),p=t(72),k=t(71),v=t(63);t.n(v)()();var g=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(c.a)(this,Object(l.a)(a).call(this,e))).state={goods:[],loading:!1},t}return Object(i.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getkey(),this._ismounted=!0}},{key:"componentWillMount",value:function(){this._ismounted=!1}},{key:"getkey",value:function(){var e=void 0===h.a.load("searchkey")?[]:h.a.load("searchkey"),a=this,t=decodeURI(window.location.href.split("key=")[1]);e.push({name:t}),a.setState({key:t}),h.a.save("searchkey",this.getarr(e),{path:"/"}),Object(p.a)("shop/goods/list",{params:{nameLike:t}},"GET",function(e){a._ismounted&&(a.setState({loading:!0}),0===e.data.code&&a.setState({goods:e.data.data}))},a)}},{key:"getarr",value:function(e){for(var a=[],t={},n=0;n<e.length;n++)t[e[n].name]||(a.push(e[n]),t[e[n].name]=!0);return a}},{key:"goback",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this,a=this;return o.a.createElement("div",{className:"listApp"},this.state.loading?null:o.a.createElement(k.a,null),o.a.createElement("header",{className:u.a.carheader},o.a.createElement("a",{href:"javascrit:",className:u.a.carback,onClick:function(){return e.goback()}}),this.state.key),o.a.createElement("div",{className:u.a.container+" reactApp"},o.a.createElement("div",{className:u.a.searchbox},o.a.createElement("ul",{className:u.a.indexProduct+" "+u.a.listproduct},this.state.goods.map(function(e,t){return o.a.createElement("li",{key:t},o.a.createElement("a",{href:"#/details/"+e.id},o.a.createElement("div",{className:u.a.proIcon+" "+u.a.img2}),o.a.createElement("img",{src:e.pic,alt:e.characteristic}),o.a.createElement("h3",null,e.name.split(a.state.key)[0],o.a.createElement("em",null,a.state.key),e.name.split(a.state.key)[1]),o.a.createElement("span",{className:u.a.price},"\xa5",e.minPrice,o.a.createElement("del",null,"\xa5",e.originalPrice))))})),this.state.goods.length<=0?o.a.createElement("div",{className:u.a.Noshop},o.a.createElement("div",{className:u.a.Empty+" "+u.a.img3}),o.a.createElement("p",null,"\u672a\u641c\u7d22\u5230\u76f8\u5173\u5546\u54c1")):null),o.a.createElement("div",{className:u.a.bottom})))}}]),a}(r.Component);a.default=g}}]);