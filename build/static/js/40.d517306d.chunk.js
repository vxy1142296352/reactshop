(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{275:function(e,a,t){"use strict";t.r(a);var r=t(16),s=t(17),n=t(20),d=t(18),l=t(19),o=t(0),i=t.n(o),c=t(75),m=t(139),u=t.n(m),p=t(68),h=t(71),E=t(79),v=t(54),b=t(8),g=t(63);t.n(g)()();var N=E.a;function f(e){return e.goodslist.map(function(e,a){return i.a.createElement("li",{key:e.id},i.a.createElement("div",{className:u.a.carimg},i.a.createElement("a",{href:"#/details/"+e.goodsId},i.a.createElement("img",{src:e.pic,alt:""}))),i.a.createElement("div",{className:u.a.carname},i.a.createElement("a",{href:"#/details/"+e.goodsId},i.a.createElement("h2",null,e.goodsName),i.a.createElement("span",null,"\u89c4\u683c:",e.property,i.a.createElement("em",null,"x",e.number))),i.a.createElement("span",{className:u.a.carprice},"\xa5",e.amount)))})}var k=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(n.a)(this,Object(d.a)(a).call(this,e))).state={goods:[],waitepay:[],waitgoods:[],waitcogoods:[],waitevote:[],cateid:0,loading:!1,token:b.a.getState().token.token,catecheck:[{id:0,name:"\u5168\u90e8",active:!0},{id:1,name:"\u5f85\u652f\u4ed8",active:!1},{id:2,name:"\u5f85\u53d1\u8d27",active:!1},{id:3,name:"\u5f85\u6536\u8d27",active:!1},{id:4,name:"\u5f85\u8bc4\u4ef7",active:!1}]},t}return Object(l.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=window.location.href.split("?id=")[1],a=this.state.catecheck;void 0===e?a[0].active=!0:(a[0].active=!1,a[e].active=!0,this.setState({cateid:e})),this.getorder()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"getorder",value:function(){var e=this;Object(p.a)("order/list",{},"GET",function(a){if(e.setState({loading:!0}),e._isMounted&&0===a.data.code){for(var t=a.data.data.orderList,r=[],s=[],n=[],d=[],l=0;l<t.length;l++)switch(t[l].goodsmap=[],t[l].address=[],t[l].goodsmap.push(a.data.data.goodsMap[t[l].id]),t[l].address.push(a.data.data.logisticsMap[t[l].id]),t[l].status){default:case 0:r.push(t[l]);break;case 1:s.push(t[l]);break;case 2:n.push(t[l]);break;case 3:d.push(t[l])}e.setState({goods:t,waitepay:r,waitgoods:s,waitcogoods:n,waitevote:d})}},e)}},{key:"orderbtn",value:function(e,a,t,r,s){switch(e){case 0:return i.a.createElement("div",{className:u.a.orderIdBtn},i.a.createElement("a",{href:"javascrit:","data-id":a,"data-number":t,onClick:this.paymoney.bind(this)},"\u53bb\u4ed8\u6b3e"),i.a.createElement("a",{href:"javascrit:","data-id":a,"data-number":t,onClick:this.qxorder.bind(this)},"\u53d6\u6d88\u8ba2\u5355"));case 1:return i.a.createElement("div",{className:u.a.orderIdBtn},i.a.createElement("a",{href:"#/user/aftersale?ordernumber="+t+"?id="+a},"\u552e\u540e\u670d\u52a1"),i.a.createElement("a",{href:"javascrit:","data-id":a,"data-number":t,onClick:this.tipshop.bind(this)},"\u63d0\u9192\u53d1\u8d27"));case 2:return i.a.createElement("div",{className:u.a.orderIdBtn},i.a.createElement("a",{href:"#/user/aftersale?ordernumber="+t+"?id="+a},"\u552e\u540e\u670d\u52a1"),i.a.createElement("a",{href:"javascrit:","data-id":a,onClick:this.saveshop.bind(this)},"\u786e\u8ba4\u6536\u8d27"),i.a.createElement("a",{href:""!==r||void 0!==r?"#/user/express?expressname="+s+"?id="+r:"javascrit:","data-id":r,"data-name":s},void 0!==r||""!==r?"\u67e5\u770b\u7269\u6d41":"\u65e0\u9700\u7269\u6d41:"));case 3:return i.a.createElement("div",{className:u.a.orderIdBtn},i.a.createElement("a",{href:"#/user/evote?ordernumber="+t+"?id="+a},"\u8bc4\u4ef7\u5546\u54c1"),i.a.createElement("a",{href:"#/user/aftersale?ordernumber="+t+"?id="+a},"\u552e\u540e\u670d\u52a1"))}}},{key:"paymoney",value:function(e){this.props.history.push("/paychose/onlinepay?orderid="+e.target.getAttribute("data-id")+"accestoken?="+this.state.token)}},{key:"qxorder",value:function(e){var a=e.target.getAttribute("data-id"),t=this;N.confirm({contentText:"\u786e\u5b9a\u8981\u53d6\u6d88\u8ba2\u5355\u5417\uff1f",onOk:function(){t.Aqorder(a)},onCancel:function(){}})}},{key:"Aqorder",value:function(e){var a=this;Object(p.a)("order/close",{orderId:e},"POST",function(e){0===e.data.code?(v.a.success("\u53d6\u6d88\u6210\u529f",1500),a.getorder()):v.a.error("\u53d6\u6d88\u5931\u8d25",1500)},a)}},{key:"saveshop",value:function(e){var a=e.target.getAttribute("data-id"),t=this;N.confirm({contentText:"\u786e\u5b9a\u8981\u786e\u8ba4\u8981\u6536\u8d27\u5417",onOk:function(){t.Saveshop(a)},onCancel:function(){}})}},{key:"Saveshop",value:function(e){var a=this;Object(p.a)("order/delivery",{orderId:e},"POST",function(e){0===e.data.code?(v.a.success("\u6536\u8d27\u6210\u529f",1500),a.getorder()):v.a.error("\u6536\u8d27\u5931\u8d25",1500)},a)}},{key:"tipshop",value:function(e){v.a.success("\u63d0\u9192\u53d1\u8d27\u6210\u529f",1500)}},{key:"tab",value:function(e){for(var a=e.target.getAttribute("data-id"),t=this.state.catecheck,r=0;r<t.length;r++)t[r].active=!1,t[e.target.getAttribute("data-index")].active=!0;this.setState({cateid:a,catecheck:t})}},{key:"Refresh",value:function(){window.location.reload()}},{key:"goback",value:function(){window.history.go(-1)}},{key:"render",value:function(){var e=this,a=this;return i.a.createElement("div",{className:"userorderApp"},this.state.loading?null:i.a.createElement(h.a,null),i.a.createElement("header",{className:u.a.carheader},i.a.createElement("a",{href:"javascrit:",className:u.a.carback,onClick:function(){return e.goback()}}),"\u6211\u7684\u8ba2\u5355",i.a.createElement("span",{className:u.a.caredite,onClick:this.Refresh.bind(this)},"\u5237\u65b0")),i.a.createElement("div",{className:u.a.container+" reactApp"},this.state.goods.length>0?i.a.createElement("div",{className:u.a.uiseroderTab},this.state.catecheck.map(function(e,t){return i.a.createElement("a",{href:"javasrit:",onClick:a.tab.bind(a),"data-index":t,"data-id":e.id,className:e.active?u.a.active:" ",key:t},e.name)})):null,i.a.createElement("div",{className:u.a.orderListContent},i.a.createElement("div",{style:0===Number(a.state.cateid)?{display:"block"}:{display:"none"}},this.state.goods.map(function(e,t){return i.a.createElement("div",{className:u.a.carlist,key:t},i.a.createElement("a",{href:"#/user/orderdetails/"+e.id,className:u.a.userorderTOPbOX},i.a.createElement("span",null,"\u8ba2\u5355\u53f7:",e.orderNumber),i.a.createElement("div",{className:u.a.orderdist},"\u72b6\u6001:",i.a.createElement("span",null,e.statusStr))),i.a.createElement("ul",null,i.a.createElement(f,{goodslist:e.goodsmap[0]})),i.a.createElement("div",{className:u.a.orderIDbottom},"\u5171",i.a.createElement("span",null,e.goodsNumber),"\u4ef6\u5546\u54c1 \u5408\u8ba1",i.a.createElement("span",null,"\uffe5",e.amountReal)),void 0!==e.address[0]?a.orderbtn(e.status,e.id,e.orderNumber,e.address[0].trackingNumber,e.address[0].shipperName,e.goodsmap[0]):a.orderbtn(e.status,e.id,e.orderNumber,"","",e.goodsmap[0]))}),this.state.goods.length<=0?i.a.createElement("div",{className:u.a.Noshop},i.a.createElement("div",{className:u.a.Empty+" "+u.a.img3}),i.a.createElement("p",null,"\u65e0\u4efb\u4f55\u8ba2\u5355")):null),i.a.createElement("div",{style:1===Number(a.state.cateid)?{display:"block"}:{display:"none"}},this.state.waitepay.map(function(e,t){return i.a.createElement("div",{className:u.a.carlist,key:t},i.a.createElement("a",{href:"#/user/orderdetails/"+e.id,className:u.a.userorderTOPbOX},i.a.createElement("span",null,"\u8ba2\u5355\u53f7:",e.orderNumber),i.a.createElement("div",{className:u.a.orderdist},"\u72b6\u6001:",i.a.createElement("span",null,e.statusStr))),i.a.createElement("ul",null,i.a.createElement(f,{goodslist:e.goodsmap[0]})),i.a.createElement("div",{className:u.a.orderIDbottom},"\u5171",i.a.createElement("span",null,e.goodsNumber),"\u4ef6\u5546\u54c1 \u5408\u8ba1",i.a.createElement("span",null,"\uffe5",e.amountReal)),void 0!==e.address[0]?a.orderbtn(e.status,e.id,e.orderNumber,e.address[0].trackingNumber,e.address[0].shipperName,e.goodsmap[0]):a.orderbtn(e.status,e.id,e.orderNumber,"","",e.goodsmap[0]))}),this.state.waitepay.length<=0?i.a.createElement("div",{className:u.a.Noshop},i.a.createElement("div",{className:u.a.Empty+" "+u.a.img3}),i.a.createElement("p",null,"\u65e0\u5f85\u652f\u4ed8\u8ba2\u5355")):null),i.a.createElement("div",{style:2===Number(a.state.cateid)?{display:"block"}:{display:"none"}},this.state.waitgoods.map(function(e,t){return i.a.createElement("div",{className:u.a.carlist,key:t},i.a.createElement("a",{href:"#/user/orderdetails/"+e.id,className:u.a.userorderTOPbOX},i.a.createElement("span",null,"\u8ba2\u5355\u53f7:",e.orderNumber),i.a.createElement("div",{className:u.a.orderdist},"\u72b6\u6001:",i.a.createElement("span",null,e.statusStr))),i.a.createElement("ul",null,i.a.createElement(f,{goodslist:e.goodsmap[0]})),i.a.createElement("div",{className:u.a.orderIDbottom},"\u5171",i.a.createElement("span",null,e.goodsNumber),"\u4ef6\u5546\u54c1 \u5408\u8ba1",i.a.createElement("span",null,"\uffe5",e.amountReal)),void 0!==e.address[0]?a.orderbtn(e.status,e.id,e.orderNumber,e.address[0].trackingNumber,e.address[0].shipperName,e.goodsmap[0]):a.orderbtn(e.status,e.id,e.orderNumber,"","",e.goodsmap[0]))}),this.state.waitgoods.length<=0?i.a.createElement("div",{className:u.a.Noshop},i.a.createElement("div",{className:u.a.Empty+" "+u.a.img3}),i.a.createElement("p",null,"\u65e0\u5f85\u53d1\u8d27\u8ba2\u5355")):null),i.a.createElement("div",{style:3===Number(a.state.cateid)?{display:"block"}:{display:"none"}},this.state.waitcogoods.map(function(e,t){return i.a.createElement("div",{className:u.a.carlist,key:t},i.a.createElement("a",{href:"#/user/orderdetails/"+e.id,className:u.a.userorderTOPbOX},i.a.createElement("span",null,"\u8ba2\u5355\u53f7:",e.orderNumber),i.a.createElement("div",{className:u.a.orderdist},"\u72b6\u6001:",i.a.createElement("span",null,e.statusStr))),i.a.createElement("ul",null,i.a.createElement(f,{goodslist:e.goodsmap[0]})),i.a.createElement("div",{className:u.a.orderIDbottom},"\u5171",i.a.createElement("span",null,e.goodsNumber),"\u4ef6\u5546\u54c1 \u5408\u8ba1",i.a.createElement("span",null,"\uffe5",e.amountReal)),void 0!==e.address[0]?a.orderbtn(e.status,e.id,e.orderNumber,e.address[0].trackingNumber,e.address[0].shipperName,e.goodsmap[0]):a.orderbtn(e.status,e.id,e.orderNumber,"","",e.goodsmap[0]))}),this.state.waitcogoods.length<=0?i.a.createElement("div",{className:u.a.Noshop},i.a.createElement("div",{className:u.a.Empty+" "+u.a.img3}),i.a.createElement("p",null,"\u65e0\u5f85\u6536\u8d27\u8ba2\u5355")):null),i.a.createElement("div",{style:4===Number(a.state.cateid)?{display:"block"}:{display:"none"}},this.state.waitevote.map(function(e,t){return i.a.createElement("div",{className:u.a.carlist,key:t},i.a.createElement("a",{href:"#/user/orderdetails/"+e.id,className:u.a.userorderTOPbOX},i.a.createElement("span",null,"\u8ba2\u5355\u53f7:",e.orderNumber),i.a.createElement("div",{className:u.a.orderdist},"\u72b6\u6001:",i.a.createElement("span",null,e.statusStr))),i.a.createElement("ul",null,i.a.createElement(f,{goodslist:e.goodsmap[0]})),i.a.createElement("div",{className:u.a.orderIDbottom},"\u5171",i.a.createElement("span",null,e.goodsNumber),"\u4ef6\u5546\u54c1 \u5408\u8ba1",i.a.createElement("span",null,"\uffe5",e.amountReal)),void 0!==e.address[0]?a.orderbtn(e.status,e.id,e.orderNumber,e.address[0].trackingNumber,e.address[0].shipperName,e.goodsmap[0]):a.orderbtn(e.status,e.id,e.orderNumber,"","",e.goodsmap[0]))}),this.state.waitevote.length<=0?i.a.createElement("div",{className:u.a.Noshop},i.a.createElement("div",{className:u.a.Empty+" "+u.a.img3}),i.a.createElement("p",null,"\u65e0\u5f85\u8bc4\u4ef7\u8ba2\u5355")):null))))}}]),a}(o.Component);a.default=Object(c.a)(k)}}]);