(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{280:function(e,t,a){"use strict";a.r(t);var n=a(16),o=a(17),i=a(20),c=a(18),r=a(19),s=a(21),l=a(0),u=a.n(l),d=a(75),h=a(92),m=a.n(h),p=a(68),f=a(63),v=a.n(f),g=a(90);v()();var y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).refresh=function(e,t){setTimeout(function(){e()},2e3)},a.loadMore=function(e){var t=Object(s.a)(Object(s.a)(a));setTimeout(function(){e(t.setState({ismore:!1}))},2e3)},a.state={moneylist:[],paylist:[],ismore:!0,isloading:!1},a}return Object(r.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0,this.getpoint(),this.getpaylist()}},{key:"componentWillMount",value:function(){this._ismounted=!1}},{key:"getpoint",value:function(){var e=this;Object(p.a)("score/logs",{},"GET",function(t){e._ismounted&&0===t.data.code&&e.setState({moneylist:t.data.data.result,isloading:!0})},e)}},{key:"getpaylist",value:function(){var e=this;Object(p.a)("user/payLogs",{},"GET",function(t){e._ismounted&&0===t.data.code&&e.setState({paylist:t.data.data})},e)}},{key:"goback",value:function(){window.history.go(-1)}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:m.a.walletlistApp+" reactApp"},u.a.createElement("div",{className:"view"},u.a.createElement(g.a,{className:"main",onRefresh:this.refresh,onLoadMore:this.loadMore,hasMore:this.state.paylist.length+this.state.moneylist.length>=8,ismore:this.state.ismore},u.a.createElement("header",{className:m.a.carheader+" "+m.a.walletheader},u.a.createElement("a",{href:"javascrit:",className:m.a.carback,onClick:function(){return e.goback()}}),"\u8d26\u6237\u660e\u7ec6"),u.a.createElement("div",{className:m.a.container},u.a.createElement("ul",{className:m.a.putlist},this.state.paylist.map(function(e,t){return u.a.createElement("li",{key:t},u.a.createElement("p",{className:m.a.listtop},e.remark?e.remark:"\u5145\u503c",u.a.createElement("span",null,"\uffe5",e.money)),u.a.createElement("p",{className:m.a.listtime+" "+m.a.listsuccess},e.dateAdd,u.a.createElement("span",null,e.payGateStr)))}),this.state.moneylist.map(function(e,t){return u.a.createElement("li",{key:t},u.a.createElement("p",{className:m.a.listtop},e.typeStr,u.a.createElement("span",null,e.score,"\u79ef\u5206")),u.a.createElement("p",{className:m.a.listtime+" "+m.a.listsuccess},e.dateAdd,u.a.createElement("span",null,e.behaviorStr)))})),this.state.paylist<=0&&this.state.moneylist.length<=0&&this.state.isloading?u.a.createElement("div",{className:m.a.Noshop},u.a.createElement("div",{className:m.a.Empty+" "+m.a.img3}),u.a.createElement("p",null,"\u6682\u65e0\u4efb\u4f55\u8d26\u6237\u660e\u7ec6")):null))))}}]),t}(l.Component);t.default=Object(d.a)(y)},54:function(e,t,a){"use strict";var n=a(16),o=a(17),i=a(20),c=a(18),r=a(19),s=a(21),l=a(0),u=a.n(l),d=a(22),h=a.n(d),m=a(67),p=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.content;return u.a.createElement("div",{className:"toast-notice ".concat(t)},u.a.createElement("svg",{className:"icon","aria-hidden":"true"},u.a.createElement("use",{xlinkHref:"#".concat({info:"icon-info-circle-fill",success:"icon-check-circle-fill",warning:"icon-warning-circle-fill",error:"icon-close-circle-fill",loading:"icon-loading"}[t])})),u.a.createElement("span",null,a))}}]),t}(l.Component),f=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(i.a)(this,Object(c.a)(t).call(this))).transitionTime=500,e.state={notices:[]},e.removeNotice=e.removeNotice.bind(Object(s.a)(Object(s.a)(e))),e}return Object(r.a)(t,e),Object(o.a)(t,[{key:"getNoticeKey",value:function(){var e=this.state.notices;return"notice-".concat((new Date).getTime(),"-").concat(e.length)}},{key:"addNotice",value:function(e){var t=this,a=this.state.notices;return e.key=this.getNoticeKey(),a.every(function(t){return t.key!==e.key})&&(e.length>0&&"loading"===a[e.length-1].type?(a.push(e),setTimeout(function(){t.setState({notices:a})},this.transitionTime)):(a.push(e),this.setState({notices:a})),e.duration>0&&setTimeout(function(){t.removeNotice(e.key)},e.duration)),function(){t.removeNotice(e.key)}}},{key:"removeNotice",value:function(e){var t=this,a=this.state.notices;this.setState({notices:a.filter(function(a){return a.key!==e||(a.onClose&&setTimeout(a.onClose,t.transitionTime),!1)})})}},{key:"render",value:function(){var e=this,t=this.state.notices;return u.a.createElement(m.TransitionGroup,{className:"toast-notification"},t.map(function(t){return u.a.createElement(m.CSSTransition,{key:t.key,classNames:"toast-notice-wrapper notice",timeout:e.transitionTime},u.a.createElement(p,t))}))}}]),t}(l.Component);var v,g=function(){var e=document.createElement("div");document.body.appendChild(e);var t=u.a.createRef();return h.a.render(u.a.createElement(f,{ref:t}),e),{addNotice:function(e){return t.current.addNotice(e)},destroy:function(){h.a.unmountComponentAtNode(e),document.body.removeChild(e)}}}(),y=(a(60),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,n=arguments.length>3?arguments[3]:void 0;return v||(v=g),v.addNotice({type:e,content:t,duration:a,onClose:n})}),b={info:function(e,t,a){return y("info",e,t,a)},success:function(e,t,a){return y("success",e,t,a)},warning:function(e,t,a){return y("warning",e,t,a)},error:function(e,t,a){return y("error",e,t,a)},loading:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;return y("loading",e,t,a)}};a(62),t.a=b},60:function(e,t,a){},62:function(e,t){!function(e){var t='<svg><symbol id="icon-loading" viewBox="0 0 1024 1024"><path d="M960 447.008q-11.008-152.992-120-261.504t-260.992-120.512q-16-0.992-27.488 9.504t-11.488 26.496q0 14.016 9.504 24.512t23.488 11.488q55.008 4 107.008 26.016 60.992 26.016 108.992 73.504t74.016 109.504q22.016 51.008 26.016 106.016 0.992 14.016 11.488 23.488t24.512 9.504q15.008 0 26.016-11.008 11.008-12 8.992-27.008z"  ></path></symbol><symbol id="icon-check-circle-fill" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m193.5 301.7l-210.6 292c-12.7 17.7-39 17.7-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"  ></path></symbol><symbol id="icon-close-circle-fill" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m165.4 618.2l-66-0.3L512 563.4l-99.3 118.4-66.1 0.3c-4.4 0-8-3.5-8-8 0-1.9 0.7-3.7 1.9-5.2l130.1-155L340.5 359c-1.2-1.5-1.9-3.3-1.9-5.2 0-4.4 3.6-8 8-8l66.1 0.3L512 464.6l99.3-118.4 66-0.3c4.4 0 8 3.5 8 8 0 1.9-0.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"  ></path></symbol><symbol id="icon-info-circle-fill" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272z m-32-344c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"  ></path></symbol><symbol id="icon-warning-circle-fill" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296z m32 440c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"  ></path></symbol></svg>',a=function(){var e=document.getElementsByTagName("script");return e[e.length-1]}().getAttribute("data-injectcss"),n=function(e,t){t.firstChild?function(e,t){t.parentNode.insertBefore(e,t)}(e,t.firstChild):t.appendChild(e)};if(a&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(o){console&&console.log(o)}}!function(t){document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(t,0):document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,!1),t()},!1):document.attachEvent&&function(e,t){var a=e.document,n=!1,i=function(){n||(n=!0,t())};(function e(){try{a.documentElement.doScroll("left")}catch(o){return void setTimeout(e,50)}i()})(),a.onreadystatechange=function(){"complete"==a.readyState&&(a.onreadystatechange=null,i())}}(e,t)}(function(){var e,a;(e=document.createElement("div")).innerHTML=t,t=null,(a=e.getElementsByTagName("svg")[0])&&(a.setAttribute("aria-hidden","true"),a.style.position="absolute",a.style.width=0,a.style.height=0,a.style.overflow="hidden",n(a,document.body))})}(window)},68:function(e,t,a){"use strict";var n=a(70),o=a.n(n),i=a(54),c=a(8),r=a(24),s=a(23),l=a.n(s);t.a=function(e,t,a,n,s){var u=l.a.load("accestoken");if(null===u||void 0===u)i.a.error("\u767b\u5f55\u8fc7\u671f",500),c.a.dispatch(Object(r.b)(null)),l.a.remove("accestoken"),setTimeout(function(){s.props.history.replace("/login?Redirect="+s.props.location.pathname)},501);else{c.a.dispatch(Object(r.b)(u));var d=window.location.origin+"/api/";if("GET"===a)o.a.get(d+e,{params:{token:u}},{timeout:1e4}).then(function(e){2e3===e.data.code?(i.a.error("\u767b\u5f55\u8fc7\u671f",500),c.a.dispatch(Object(r.b)(null)),l.a.remove("accestoken"),setTimeout(function(){s.props.history.replace("/login?Redirect="+s.props.location.pathname)},501)):3e3===e.data.code?i.a.error("\u8bf7\u6c42\u9519\u8bef",1500):n(e)}).catch(function(e){i.a.error("\u7f51\u7edc\u9519\u8bef",1500)});else if("POST"===a){var h=new URLSearchParams;for(var m in h.append("token",u),t)h.append(m,t[m]);o.a.post(d+e,h,{timeout:1e4}).then(function(e){2e3===e.data.code?(i.a.error("\u767b\u5f55\u8fc7\u671f",500),c.a.dispatch(Object(r.b)(null)),l.a.remove("accestoken"),setTimeout(function(){s.props.history.replace("/login?Redirect="+s.props.location.pathname)},501)):3e3===e.data.code?i.a.error("\u8bf7\u6c42\u9519\u8bef",1500):n(e)}).catch(function(e){i.a.error("\u7f51\u7edc\u9519\u8bef",1500)})}}}},90:function(e,t,a){"use strict";var n=a(16),o=a(17),i=a(20),c=a(18),r=a(19),s=a(21),l=a(0),u=a.n(l),d={init:"",pulling:"pulling",enough:"pulling enough",refreshing:"refreshing",refreshed:"refreshed",reset:"reset",loading:"loading"};var h=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={loaderState:d.init,pullHeight:0,progressed:0},a.touchStart=function(e){if(a.canRefresh()&&1===e.touches.length){var t=Object(s.a)(Object(s.a)(a)).panel;a.initialTouch={clientY:e.touches[0].clientY,scrollTop:t.scrollTop}}},a.touchMove=function(e){if(a.canRefresh()){var t=Object(s.a)(Object(s.a)(a)).panel,n=a.props.distanceToRefresh,o=t.scrollTop,i=a.calculateDistance(e.touches[0]);if(i>0&&o<=0){var c=i-a.initialTouch.scrollTop;c<0&&(c=0,a.initialTouch.scrollTop=i);var r=function(e){var t=e,a=window.screen.availHeight;return a/2.5*Math.sin(t/a*(Math.PI/2))+0}(c);r&&e.preventDefault(),a.setState({loaderState:r>n?d.enough:d.pulling,pullHeight:r})}}},a.touchEnd=function(){if(a.canRefresh()){var e={loaderState:d.reset,pullHeight:0};a.state.loaderState===d.enough?(a.setState({loaderState:d.refreshing,pullHeight:0}),a.props.onRefresh(function(){a.setState({loaderState:d.refreshed,pullHeight:0})},function(){a.setState(e)})):a.setState(e)}},a.loadMore=function(){a.setState({loaderState:d.loading}),a.props.onLoadMore(function(){a.setState({loaderState:d.init})})},a.scroll=function(e){if(a.props.autoLoadMore&&a.props.hasMore&&a.state.loaderState!==d.loading){var t=e.currentTarget;t.scrollHeight-t.clientHeight-t.scrollTop<5&&a.loadMore()}},a.animationEnd=function(){var e={};a.state.loaderState===d.refreshed&&(e.loaderState=d.init),a.props.initializing>1&&(e.progressed=1),a.setState(e)},a}return Object(r.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.initializing<2&&this.setState({progressed:0})}},{key:"setInitialTouch",value:function(e){this.initialTouch={clientY:e.clientY}}},{key:"componentDidMount",value:function(){}},{key:"calculateDistance",value:function(e){return e.clientY-this.initialTouch.clientY}},{key:"canRefresh",value:function(){var e=this.props.onRefresh,t=this.state.loaderState;return e&&[d.refreshing,d.loading].indexOf(t)<0}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.className,o=t.hasMore,i=t.initializing,c=t.ismore,r=this.state,s=r.loaderState,l=r.pullHeight,d=r.progressed,h=o?u.a.createElement("div",{className:"tloader-footer"},u.a.createElement("div",{className:c?"tloader-btn ":"tloader-btn tloader_nomore",onClick:this.loadMore}," ")," ",u.a.createElement("div",{className:"tloader-loading"}," ",u.a.createElement("i",{className:"ui-loading"})," ")," "):null,m=l?{WebkitTransform:"translate3d(0,".concat(l,"px,0)")}:null,p="";return d||(i>0&&(p+=" tloader-progress"),i>1&&(p+=" ed")),u.a.createElement("div",{ref:function(t){e.panel=t},className:"tloader state-".concat(s," ").concat(n).concat(p),onScroll:this.scroll,onTouchStart:this.touchStart,onTouchMove:this.touchMove,onTouchEnd:this.touchEnd,onAnimationEnd:this.animationEnd},u.a.createElement("div",{className:"tloader-symbol"},u.a.createElement("div",{className:"tloader-msg",ref:"loadMoreheight"}," ",u.a.createElement("i",null)," ")," ",u.a.createElement("div",{className:"tloader-loading"}," ",u.a.createElement("i",{className:"ui-loading"})," ")," ")," ",u.a.createElement("div",{className:"tloader-body",style:m}," ",a," ")," ",h," ")}}]),t}(u.a.Component);h.defaultProps={distanceToRefresh:60,autoLoadMore:1},t.a=h}}]);